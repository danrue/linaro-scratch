# Gmail has a great search interface and very frustrating filter behavior:
# Every email is evaluated against every rule; there is no way to stop
# filtering, and there is no way to guarantee order of filtering.
#
# I want to be able to match certain emails and as an action, have them stay in
# the inbox. However, that's not possible. Instead, you have to write rules to
# match everything that *shouldn't* stay in the inbox.
#
# The below design therefore is a compromise. It will apply the label 'todo' to
# all emails which should be read, which basically makes 'todo' a second inbox.
#
# Emails which don't match any filter stay in the inbox.

# To me or my besties specifically, but not from bots (so, probably from a
# human)
-
  to:
    any:
      - dan.rue@linaro.org
      - anders.roxell@linaro.org
      - naresh.kamboju@linaro.org
      - daniel.diaz@linaro.org
      - matt.hart@linaro.org
      - rafael.tinoco@linaro.org
  from:
    all:
      - -builds@travis-ci.org
      - -projects@linaro.org
      - -bugzilla-daemon@bugs.linaro.org
      - -it-services@linaro.org
  label: todo
  archive: true

# Emails from people I follow
-
  from:
    any:
      - torvalds@linux-foundation.org
      - milosz.wasilewski@linaro.org
      - chase.qi@linaro.org
      - anders.roxell@linaro.org
      - naresh.kamboju@linaro.org
      - ryan.arnold@linaro.org
      - daniel.diaz@linaro.org
      - rafael.tinoco@linaro.org
  label: todo
  archive: true

# Label all stable emails
-
  list: stable@vger.kernel.org
  label: lists-stable
  archive: true
# Stable review threads should go to todo
-
  subject:
    all:
      - "-3.18" # exclude 3.18
      - PATCH
      - stable review
  list: stable@vger.kernel.org
  label: todo
  archive: true
# Stable release announcements go to todo
-
  subject: announcing the release of the
  list: stable@vger.kernel.org
  label: todo
  archive: true


# LKML
-
  list: linux-kernel@vger.kernel.org
  label: lists-lkml
  archive: true
# Linux release announcements
-
  list: linux-kernel@vger.kernel.org
  subject:
    all:
      - Linux [0-9]
      - -PATCH
      - -GIT
  label: todo
  archive: true

# kselftest list
-
  list: linux-kselftest@vger.kernel.org
  label: lists-kselftest
  archive: true

# Gerrit
-
  from: review@review.linaro.org
  label: todo
  archive: true
#-
#  from: review@review.linaro.org
#  has:
#    any:
#      - lava-bot posted comments
#      - would like to review this change
#  label: junk
#  archive: true

# Build bot for Mark Brown
-
  from: Build bot for Mark Brown broonie@kernel.org
  list: linux-kernel@vger.kernel.org
  label: junk
  archive: true

# Olaf's autobuilder
-
  from: Olof's autobuilder <build@lixom.net>
  label: junk
  archive: true

# Monitoring alerts
-
  from: it-services@linaro.org
  label: junk
  archive: true

# Suppress ci successful build notifications
-
  from: ci_notify@linaro.org
  subject: Successful!
  label: junk
  archive: true

# Label all ltp emails and send all to todo
-
  for_each:
    - todo
    - lists-ltp
  rule:
    list: ltp@lists.linux.it
    label: "{item}"
    archive: true

# linux-next
-
  list: linux-next@vger.kernel.org
  label: lists-next
  archive: true

# kernelci bot
-
  from: bot@kernelci.org
  list: kernel-build-reports@lists.linaro.org
  archive: true
